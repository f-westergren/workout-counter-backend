(this["webpackJsonpworkout-counter"]=this["webpackJsonpworkout-counter"]||[]).push([[0],{16:function(e,t,n){e.exports=n(38)},38:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(13),o=n.n(r),u=n(14),c=n(15),m=n(2),i=n(3),d=n.n(i),s="/api/athletes",E=function(){return d.a.get(s).then((function(e){return e.data}))},f=function(e){return d.a.post(s,e).then((function(e){return e.data}))},h=function(e,t){return d.a.put("".concat(s,"/").concat(e),t).then((function(e){return e.data}))},g=function(e){return d.a.delete("".concat(s,"/").concat(e))},v=function(e){return l.a.createElement("tr",null,l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.workouts),l.a.createElement("td",null,l.a.createElement("button",{onClick:e.remove},"delete athlete")))},b=function(e){return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:e.add},l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Athlete: "),l.a.createElement("td",null,l.a.createElement("select",{onChange:e.nameChange},e.name.map((function(e){return l.a.createElement("option",{value:e,key:e},e)}))))),l.a.createElement("tr",null,l.a.createElement("td",null,"Workout: "),l.a.createElement("td",null,l.a.createElement("input",{value:e.workout,onChange:e.workoutChange}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Date: "),l.a.createElement("td",null,l.a.createElement("input",{type:"date",value:e.date,onChange:e.dateChange}))),l.a.createElement("tr",null,l.a.createElement("td",null,"Notes:"),l.a.createElement("td",null,l.a.createElement("textarea",{value:e.note,rows:"10",cols:"30",onChange:e.noteChange}))),l.a.createElement("tr",null,l.a.createElement("td",null),l.a.createElement("td",null,l.a.createElement("button",{type:"submit"},"Save")))))))},p=function(e){return l.a.createElement("div",null,l.a.createElement("form",{onSubmit:e.add},"Name:",l.a.createElement("input",{value:e.value,onChange:e.onChange}),l.a.createElement("button",{type:"submit"},"L\xe4gg till deltagare")))},k=function(e){var t=e.name,n=e.workout;e.id;return l.a.createElement("div",null,l.a.createElement("h2",null,t),n.map((function(e){return l.a.createElement("p",{key:e.note},e.date," ",e.type," ",e.note)})))},w=function(){var e=Object(a.useState)([]),t=Object(m.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(""),i=Object(m.a)(o,2),d=i[0],s=i[1],w=Object(a.useState)(""),C=Object(m.a)(w,2),j=C[0],O=C[1],y=Object(a.useState)(""),I=Object(m.a)(y,2),S=I[0],D=I[1],x=Object(a.useState)(""),J=Object(m.a)(x,2),N=J[0],A=J[1],B=Object(a.useState)(""),F=Object(m.a)(B,2),L=F[0],W=F[1];Object(a.useEffect)((function(){E().then((function(e){return r(e.sort(q))}))}),[]);var q=function(e,t){var n=e.workouts,a=t.workouts;return n<a?1:n===a?0:-1},z=n.map((function(e){return l.a.createElement(v,{name:e.name,workouts:e.workouts.length,key:e.athleteId,remove:function(){return t=e.athleteId,a=e.name,void(window.confirm("Delete ".concat(a,"?"))&&(g(t),r(n.filter((function(e){return e.athleteId!==t})).sort(q)),console.log("new athlete list",n[1])));var t,a}})})),G=n.map((function(e){return l.a.createElement(k,{key:e.athleteId,name:e.name,workout:e.workouts})}));return l.a.createElement("div",null,l.a.createElement("h1",null,"Folkes tr\xe4ningsdagbok"),l.a.createElement("table",null,l.a.createElement("tbody",null,z)),l.a.createElement(b,{add:function(e){e.preventDefault();var t=n.find((function(e){return e.name===L}));console.log("athletes",n),console.log("person",t),console.log("newname",L);var a=Object(c.a)({},t,{workouts:[].concat(Object(u.a)(t.workouts),[{type:N,date:S,note:j}])});console.log("newworkout",a),console.log("new athelte list",n.map((function(e){return e.athleteId!==t.athleteId?e:a}))),h(t.athleteId,a).then((function(e){return r(n.map((function(n){return n.athleteId!==t.athleteId?n:e})).sort(q))})),O(""),D(""),A(""),W("")},note:j,noteChange:function(e){return O(e.target.value)},workout:N,workoutChange:function(e){return A(e.target.value)},date:S,dateChange:function(e){return D(e.target.value)},name:n.map((function(e){return e.name})),nameChange:function(e){W(e.target.value),console.log(e.target.value),console.log(L)}}),l.a.createElement(p,{add:function(e){e.preventDefault(),f({name:d,workouts:[]}).then((function(e){r(n.concat(e))}))},value:d,onChange:function(e){return s(e.target.value)}}),G)};o.a.render(l.a.createElement(w,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.3ae97da9.chunk.js.map