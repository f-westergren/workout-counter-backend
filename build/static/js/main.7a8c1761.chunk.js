(this["webpackJsonpworkout-counter"]=this["webpackJsonpworkout-counter"]||[]).push([[0],{14:function(e,t,n){e.exports=n(36)},36:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(13),u=n.n(l),o=n(2),c=n(3),m=n.n(c),i="/api/athletes",d=function(){return m.a.get(i).then((function(e){return e.data}))},E=function(e){return m.a.post(i,e).then((function(e){return e.data}))},f=function(e,t){return m.a.post("".concat(i,"/").concat(e),t).then((function(e){return e.data}))},h=function(e){return m.a.delete("".concat(i,"/").concat(e))},s=function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.workouts),r.a.createElement("td",null,r.a.createElement("button",{onClick:e.remove},"delete athlete")))},g=function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.add},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Athlete: "),r.a.createElement("td",null,r.a.createElement("select",{onChange:e.nameChange},e.name.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))))),r.a.createElement("tr",null,r.a.createElement("td",null,"Workout: "),r.a.createElement("td",null,r.a.createElement("input",{value:e.workout,onChange:e.workoutChange}))),r.a.createElement("tr",null,r.a.createElement("td",null,"Date: "),r.a.createElement("td",null,r.a.createElement("input",{type:"date",value:e.date,onChange:e.dateChange}))),r.a.createElement("tr",null,r.a.createElement("td",null,"Notes:"),r.a.createElement("td",null,r.a.createElement("textarea",{value:e.note,rows:"10",cols:"30",onChange:e.noteChange}))),r.a.createElement("tr",null,r.a.createElement("td",null),r.a.createElement("td",null,r.a.createElement("button",{type:"submit"},"Save")))))))},v=function(e){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:e.add},"Name:",r.a.createElement("input",{value:e.value,onChange:e.onChange}),r.a.createElement("button",{type:"submit"},"Add Athlete")))},b=function(e){var t=e.name,n=e.workout;e.id;return r.a.createElement("div",null,r.a.createElement("h2",null,t),n.map((function(e){return r.a.createElement("p",{key:e._id},new Date(e.date).toDateString()," - ",e.type," - ",e.note)})))},k=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],l=t[1],u=Object(a.useState)(""),c=Object(o.a)(u,2),m=c[0],i=c[1],k=Object(a.useState)(""),p=Object(o.a)(k,2),w=p[0],C=p[1],j=Object(a.useState)(""),O=Object(o.a)(j,2),y=O[0],S=O[1],I=Object(a.useState)(""),D=Object(o.a)(I,2),A=D[0],x=D[1],J=Object(a.useState)(""),N=Object(o.a)(J,2),B=N[0],F=N[1];Object(a.useEffect)((function(){d().then((function(e){return l(e.sort(W))}))}),[]);var W=function(e,t){return e.workouts.length<t.workouts.length?1:e.workouts.length===t.workouts.length?0:-1},_=n.map((function(e){return r.a.createElement(s,{name:e.name,workouts:e.workouts.length,key:e.athleteId,remove:function(){return t=e.athleteId,a=e.name,void(window.confirm("Delete ".concat(a,"?"))&&(h(t),l(n.filter((function(e){return e.athleteId!==t})).sort(W)),F("")));var t,a}})})),q=n.map((function(e){return r.a.createElement(b,{key:e.athleteId,name:e.name,workout:e.workouts})}));return r.a.createElement("div",null,r.a.createElement("h1",null,"Folkes tr\xe4ningsdagbok"),r.a.createElement("table",null,r.a.createElement("tbody",null,_)),r.a.createElement(g,{add:function(e){e.preventDefault();var t=n.find((function(e){return e.name===B})),a={type:A,date:y,note:w};f(t.athleteId,a).then((function(e){return l(n.map((function(n){return n.athleteId!==t.athleteId?n:e})).sort(W))})),C(""),S(""),x(""),F("")},note:w,noteChange:function(e){return C(e.target.value)},workout:A,workoutChange:function(e){return x(e.target.value)},date:y,dateChange:function(e){return S(e.target.value)},name:n.map((function(e){return e.name})),nameChange:function(e){F(e.target.value)}}),r.a.createElement(v,{add:function(e){e.preventDefault(),E({name:m,workouts:[]}).then((function(e){l(n.concat(e))}))},value:m,onChange:function(e){return i(e.target.value)}}),q)};u.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.7a8c1761.chunk.js.map