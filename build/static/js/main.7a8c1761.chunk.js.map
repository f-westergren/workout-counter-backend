{"version":3,"sources":["services/athletes.js","components/Athletes.js","components/Workout.js","components/NewForm.js","components/WorkoutList.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","athleteId","delete","Athletes","props","name","workouts","onClick","remove","Workout","onSubmit","add","onChange","nameChange","map","athlete","value","key","workout","workoutChange","type","date","dateChange","note","rows","cols","noteChange","NewForm","WorkoutList","id","_id","Date","toDateString","App","useState","athletes","setAthletes","newAthlete","addNewAthlete","newNote","setNewNote","setDate","workoutType","setWorkoutType","newName","setNewName","useEffect","athleteService","initialAthletes","sort","compare","a","b","length","names","window","confirm","filter","listOfWorkouts","event","preventDefault","person","find","newWorkout","returnedWorkout","target","updatedList","concat","ReactDOM","render","document","getElementById"],"mappings":"gOACMA,EAAU,gBAmBD,EAjBA,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAe9B,EAZA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAGA,EAASC,SAU3B,EAPA,SAACG,EAAWF,GAEzB,OADgBL,IAAMM,KAAN,UAAcP,EAAd,YAAyBQ,GAAaF,GACvCH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAK5B,EAFA,SAACG,GAAD,OAAeP,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BQ,KCF1CE,EAdE,SAACC,GAAD,OACb,4BACE,4BACGA,EAAMC,MAET,4BACGD,EAAME,UAET,4BACE,4BAAQC,QAASH,EAAMI,QAAvB,qBC4BOC,EArCC,SAACL,GACf,OACE,6BACE,0BAAMM,SAAUN,EAAMO,KACtB,+BACE,+BACE,4BACE,yCACA,4BACE,4BAAQC,SAAUR,EAAMS,YACrBT,EAAMC,KAAKS,KAAI,SAAAC,GAAO,OAAI,4BAAQC,MAAOD,EAASE,IAAKF,GAAUA,SAIxE,4BACE,yCACA,4BAAI,2BAAOC,MAAOZ,EAAMc,QAASN,SAAUR,EAAMe,kBAEnD,4BACE,sCACA,4BAAI,2BAAOC,KAAK,OAAOJ,MAAOZ,EAAMiB,KAAMT,SAAUR,EAAMkB,eAE5D,4BACE,sCACA,4BAAI,8BAAUN,MAAOZ,EAAMmB,KAAMC,KAAK,KAAKC,KAAK,KAAKb,SAAUR,EAAMsB,eAEvE,4BACE,6BACA,4BAAI,4BAAQN,KAAK,UAAb,eCbDO,EAfC,SAACvB,GACf,OACE,6BACE,0BAAMM,SAAUN,EAAMO,KAAtB,QAEE,2BACEK,MAAOZ,EAAMY,MACbJ,SAAUR,EAAMQ,WAElB,4BAAQQ,KAAK,UAAb,kBCAOQ,EATK,SAAC,GAAD,IAAEvB,EAAF,EAAEA,KAAMa,EAAR,EAAQA,QAAR,EAAiBW,GAAjB,OAClB,6BACE,4BAAKxB,GACJa,EAAQJ,KAAI,SAAAI,GAAO,OAClB,uBAAGD,IAAKC,EAAQY,KACb,IAAIC,KAAKb,EAAQG,MAAMW,eAD1B,MAC6Cd,EAAQE,KADrD,MAC8DF,EAAQK,WC4H7DU,EA5HH,WAAO,IAAD,EACkBC,mBAAS,IAD3B,mBACRC,EADQ,KACEC,EADF,OAEsBF,mBAAS,IAF/B,mBAERG,EAFQ,KAEIC,EAFJ,OAGgBJ,mBAAS,IAHzB,mBAGRK,EAHQ,KAGCC,EAHD,OAIUN,mBAAS,IAJnB,mBAIRb,EAJQ,KAIFoB,EAJE,OAKwBP,mBAAS,IALjC,mBAKRQ,EALQ,KAKKC,EALL,OAMgBT,mBAAS,IANzB,mBAMRU,EANQ,KAMCC,EAND,KAQhBC,qBAAU,WACRC,IAEGnD,MAAK,SAAAoD,GAAe,OAAIZ,EAAYY,EAAgBC,KAAKC,SAC3D,IAEH,IA2CMA,EAAU,SAACC,EAAGC,GASlB,OAPID,EAAE7C,SAAS+C,OAASD,EAAE9C,SAAS+C,OACpB,EACJF,EAAE7C,SAAS+C,SAAWD,EAAE9C,SAAS+C,OAC7B,GAEC,GAKZC,EAAQnB,EAASrB,KAAI,SAAAC,GAAO,OAChC,kBAAC,EAAD,CACEV,KAAMU,EAAQV,KACdC,SAAUS,EAAQT,SAAS+C,OAC3BpC,IAAKF,EAAQd,UACbO,OAAQ,kBA/CWP,EA+CSc,EAAQd,UA/CNI,EA+CiBU,EAAQV,UA9CrDkD,OAAOC,QAAP,iBAAyBnD,EAAzB,QACF0C,EACU9C,GAEVmC,EAAYD,EAASsB,QAAO,SAAA1C,GAAO,OAAIA,EAAQd,YAAcA,KAAWgD,KAAKC,IAC7EL,EAAW,MANO,IAAC5C,EAAWI,QAmD5BqD,EAAiBvB,EAASrB,KAAI,SAAAC,GAAO,OACzC,kBAAC,EAAD,CACEE,IAAKF,EAAQd,UACbI,KAAMU,EAAQV,KACda,QAASH,EAAQT,cAYrB,OACA,6BACE,wDACA,+BACE,+BACGgD,IAGL,kBAAC,EAAD,CACE3C,IAlEe,SAACgD,GAClBA,EAAMC,iBACN,IAAMC,EAAS1B,EAAS2B,MAAK,SAAA/C,GAAO,OAAIA,EAAQV,OAASuC,KACnDmB,EACJ,CACE3C,KAAMsB,EACNrB,KAAMA,EACNE,KAAMgB,GAGVQ,EACUc,EAAO5D,UAAW8D,GACzBnE,MAAK,SAAAoE,GAAe,OACnB5B,EAAYD,EAASrB,KAAI,SAAAC,GAAO,OAAIA,EAAQd,YAAc4D,EAAO5D,UAAYc,EAAUiD,KAAiBf,KAAKC,OAC7GV,EAAW,IACXC,EAAQ,IACRE,EAAe,IACfE,EAAW,KAkDbtB,KAAMgB,EACNb,WAlBkB,SAACiC,GAAD,OAAWnB,EAAWmB,EAAMM,OAAOjD,QAmBrDE,QAASwB,EACTvB,cAnBwB,SAACwC,GAAD,OAAWhB,EAAegB,EAAMM,OAAOjD,QAoB/DK,KAAMA,EACNC,WApBqB,SAACqC,GAAD,OAAWlB,EAAQkB,EAAMM,OAAOjD,QAqBrDX,KAAM8B,EAASrB,KAAI,SAAAC,GAAO,OAAIA,EAAQV,QACtCQ,WArBqB,SAAC8C,GACxBd,EAAWc,EAAMM,OAAOjD,UAsBxB,kBAAC,EAAD,CACEL,IApGe,SAACgD,GAClBA,EAAMC,iBAKNb,EAJgB,CACd1C,KAAMgC,EACN/B,SAAU,KAITV,MAAK,SAAAsE,GACJ9B,EAAYD,EAASgC,OAAOD,QA4F9BlD,MAAOqB,EACPzB,SA9BqB,SAAC+C,GAAD,OAAWrB,EAAcqB,EAAMM,OAAOjD,UAgC5D0C,ICzHLU,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.7a8c1761.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/athletes'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response =>response.data)\r\n}\r\n\r\nconst update = (athleteId, newObject) => {\r\n  const request = axios.post(`${baseUrl}/${athleteId}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (athleteId) => axios.delete(`${baseUrl}/${athleteId}`)\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst Athletes = (props) => (\r\n    <tr>\r\n      <td>\r\n        {props.name} \r\n      </td>\r\n      <td>\r\n        {props.workouts}\r\n      </td>\r\n      <td>\r\n        <button onClick={props.remove}>delete athlete</button>\r\n      </td>\r\n    </tr>\r\n)\r\n\r\nexport default Athletes","import React from 'react'\r\n\r\nconst Workout = (props) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={props.add}>\r\n      <table>\r\n        <tbody>\r\n          <tr>\r\n            <td>Athlete: </td>\r\n            <td>\r\n              <select onChange={props.nameChange}>\r\n                {props.name.map(athlete => <option value={athlete} key={athlete}>{athlete}</option>)}\r\n              </select>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td>Workout: </td>\r\n            <td><input value={props.workout} onChange={props.workoutChange} /></td>\r\n          </tr>\r\n          <tr>\r\n            <td>Date: </td>\r\n            <td><input type=\"date\" value={props.date} onChange={props.dateChange} /></td>\r\n          </tr>\r\n          <tr>\r\n            <td>Notes:</td>\r\n            <td><textarea value={props.note} rows=\"10\" cols=\"30\" onChange={props.noteChange} /></td>\r\n          </tr>\r\n          <tr>\r\n            <td></td>\r\n            <td><button type=\"submit\">Save</button></td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Workout","import React from 'react'\r\n\r\nconst NewForm = (props) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={props.add}>\r\n        Name:\r\n        <input \r\n          value={props.value}\r\n          onChange={props.onChange}\r\n        />\r\n        <button type=\"submit\">Add Athlete</button>\r\n      </form>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default NewForm","import React from 'react'\r\n\r\nconst WorkoutList = ({name, workout, id}) => (\r\n  <div>\r\n    <h2>{name}</h2>\r\n    {workout.map(workout => \r\n      <p key={workout._id}>\r\n        {new Date(workout.date).toDateString()} - {workout.type} - {workout.note}</p>)}\r\n  </div>\r\n)\r\n\r\nexport default WorkoutList\r\n\r\n\r\n\r\n\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport athleteService from './services/athletes'\r\nimport Athletes from './components/Athletes'\r\nimport Workout from './components/Workout'\r\nimport NewForm from './components/NewForm'\r\nimport WorkoutList from './components/WorkoutList'\r\n\r\nconst App = () => {\r\n  const [ athletes, setAthletes ] = useState([])\r\n  const [ newAthlete, addNewAthlete ] = useState('')\r\n  const [ newNote, setNewNote ] = useState('')\r\n  const [ date, setDate ] = useState('')\r\n  const [ workoutType, setWorkoutType ] = useState('')\r\n  const [ newName, setNewName ] = useState('')\r\n\r\n  useEffect(() => {\r\n    athleteService \r\n      .getAll()\r\n      .then(initialAthletes => setAthletes(initialAthletes.sort(compare)))\r\n  }, [])\r\n\r\n  const addAthlete = (event) => {\r\n    event.preventDefault()\r\n    const newList = {\r\n      name: newAthlete,\r\n      workouts: []\r\n    }\r\n    athleteService\r\n      .create(newList)\r\n      .then(updatedList => {\r\n        setAthletes(athletes.concat(updatedList))\r\n    })\r\n  }\r\n\r\n  const removeAthlete = (athleteId, name) => {\r\n    if (window.confirm(`Delete ${name}?`)) {\r\n      athleteService\r\n        .remove(athleteId)\r\n  \r\n      setAthletes(athletes.filter(athlete => athlete.athleteId !== athleteId).sort(compare))\r\n      setNewName('')\r\n    }\r\n  }\r\n\r\n  const addWorkout = (event) => {\r\n    event.preventDefault()\r\n    const person = athletes.find(athlete => athlete.name === newName)\r\n    const newWorkout = \r\n      {\r\n        type: workoutType,\r\n        date: date,\r\n        note: newNote,\r\n    }\r\n\r\n    athleteService\r\n      .update(person.athleteId, newWorkout)\r\n      .then(returnedWorkout => \r\n        setAthletes(athletes.map(athlete => athlete.athleteId !== person.athleteId ? athlete : returnedWorkout).sort(compare)))\r\n        setNewNote('')\r\n        setDate('')\r\n        setWorkoutType('')\r\n        setNewName('')\r\n  }\r\n\r\n  const compare = (a, b) => {\r\n    let comparison = 0\r\n    if (a.workouts.length < b.workouts.length) {\r\n      comparison = 1\r\n    } else if (a.workouts.length === b.workouts.length) {\r\n      comparison = 0 }\r\n      else {\r\n      comparison = -1\r\n    }\r\n    return comparison\r\n  }\r\n\r\n  const names = athletes.map(athlete => \r\n    <Athletes \r\n      name={athlete.name}\r\n      workouts={athlete.workouts.length}\r\n      key={athlete.athleteId}\r\n      remove={() => removeAthlete(athlete.athleteId, athlete.name)}\r\n      />\r\n    )\r\n\r\n  const listOfWorkouts = athletes.map(athlete => \r\n    <WorkoutList\r\n      key={athlete.athleteId}\r\n      name={athlete.name}\r\n      workout={athlete.workouts}\r\n      />\r\n  )\r\n\r\n  const handleAddAthlete = (event) => addNewAthlete(event.target.value)\r\n  const handleNewNote = (event) => setNewNote(event.target.value)\r\n  const handleWorkoutChange = (event) => setWorkoutType(event.target.value)\r\n  const handleDateChange = (event) => setDate(event.target.value)\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  return (\r\n  <div>\r\n    <h1>Folkes träningsdagbok</h1>\r\n    <table>\r\n      <tbody>\r\n        {names}\r\n      </tbody>\r\n    </table>\r\n    <Workout \r\n      add={addWorkout}\r\n      note={newNote}\r\n      noteChange={handleNewNote}\r\n      workout={workoutType}\r\n      workoutChange={handleWorkoutChange}\r\n      date={date}\r\n      dateChange={handleDateChange}\r\n      name={athletes.map(athlete => athlete.name)}\r\n      nameChange={handleNameChange}\r\n    />\r\n    <NewForm\r\n      add={addAthlete}\r\n      value={newAthlete}\r\n      onChange={handleAddAthlete}\r\n      /> \r\n    {listOfWorkouts}\r\n  </div>\r\n\r\n  )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}